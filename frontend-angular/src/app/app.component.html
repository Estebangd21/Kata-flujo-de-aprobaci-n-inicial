<div style="max-width:900px;margin:20px auto;font-family:Arial">

  <h2>Flujo Genérico de Aprobación</h2>

  <div *ngIf="message" style="margin:10px 0;padding:10px;border:1px solid #ccc">
    {{ message }}
  </div>

  <h3>Crear solicitud</h3>

  <div>
    <input placeholder="Título" [(ngModel)]="form.title"><br><br>
    <input placeholder="Descripción" [(ngModel)]="form.description"><br><br>
    <input placeholder="Solicitante" [(ngModel)]="form.requesterUser"><br><br>
    <input placeholder="Aprobador" [(ngModel)]="form.approverUser"><br><br>

    <select [(ngModel)]="form.type">
      <option *ngFor="let t of requestTypes" [value]="t">{{ t }}</option>
    </select><br><br>

    <button (click)="createRequest()" [disabled]="loading">
      Crear solicitud
    </button>

    <button (click)="loadPending()" [disabled]="loading" style="margin-left:10px">
      Ver pendientes
    </button>
  </div>

  <h3 style="margin-top:30px">
    Solicitudes pendientes para {{ form.approverUser }}
  </h3>

  <table border="1" width="100%" cellpadding="6">
    <tr>
      <th>ID</th>
      <th>Título</th>
      <th>Tipo</th>
      <th>Estado</th>
    </tr>
    <tr *ngFor="let r of pendingRequests">
      <td>{{ r.id }}</td>
      <td>{{ r.title }}</td>
      <td>{{ r.type }}</td>
      <td>{{ r.status }}</td>
    </tr>
    <tr *ngIf="pendingRequests.length === 0">
      <td colspan="4">No hay solicitudes pendientes</td>
    </tr>
  </table>

</div>
